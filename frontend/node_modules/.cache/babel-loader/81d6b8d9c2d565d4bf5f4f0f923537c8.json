{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\walee\\\\Documents\\\\Projects\\\\MERN projects\\\\Blog\\\\frontend\\\\src\\\\pages\\\\View_Post.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { axiosInstance } from '../axioss';\nimport Blog from '../components/Blog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction View_Post() {\n  _s();\n\n  const history = useHistory();\n  const [user, setUser] = useState();\n  const [post, setPost] = useState({\n    thumbnail: \"\",\n    title: \"\",\n    description: \"\"\n  });\n  const publicFolder = \"http://localhost:5000/images/\"; // const publicFolder = \"https://blog-backend101.herokuapp.com/images/\"\n\n  const slug = useParams().slug;\n  console.log(slug);\n\n  const sendRequest = async () => {\n    const res = await axiosInstance.get(`posts/viewPost/${slug}`).catch(err => console.log(err));\n    const userId = res.data.post.user;\n    const data = await res.data;\n    const Useres = await axiosInstance.get(`user/${userId}`).catch(err => console.log(err));\n    const data2 = await Useres.data;\n    const values = {\n      data: data,\n      data2: data2\n    };\n    return values;\n  };\n\n  useEffect(() => {\n    sendRequest().then(values => {\n      setPost(values.data.post);\n      setUser(values.data2.user);\n    });\n  }, []);\n  console.log(user); //  console.log(post.user.firstname)\n  // console.log(post.post)\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    style: {\n      \"marginTop\": \"7%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: post && /*#__PURE__*/_jsxDEV(\"title\", {\n        children: [\" \", post.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), post && user && /*#__PURE__*/_jsxDEV(Blog, {\n      id: post._id,\n      thumbnail: publicFolder + post.thumbnail,\n      isUser: false,\n      title: post.title,\n      description: post.description // imageURL = {post.thumbnail}\n      ,\n      firstname: user.firstname,\n      lastname: user.lastname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(View_Post, \"DIQHZlunX3PWg3FPXTeJJkK5Flo=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = View_Post;\nexport default View_Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"View_Post\");","map":{"version":3,"names":["React","useEffect","useState","Helmet","useHistory","useParams","axiosInstance","Blog","View_Post","history","user","setUser","post","setPost","thumbnail","title","description","publicFolder","slug","console","log","sendRequest","res","get","catch","err","userId","data","Useres","data2","values","then","_id","firstname","lastname"],"sources":["C:/Users/walee/Documents/Projects/MERN projects/Blog/frontend/src/pages/View_Post.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Helmet } from 'react-helmet'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { axiosInstance } from '../axioss'\r\nimport Blog from '../components/Blog'\r\n\r\n\r\nfunction View_Post() {\r\n    const history = useHistory()\r\n    const [user, setUser] = useState()\r\n    const [post, setPost] = useState({\r\n        thumbnail: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n    })\r\n    \r\n    const publicFolder = \"http://localhost:5000/images/\"\r\n    // const publicFolder = \"https://blog-backend101.herokuapp.com/images/\"\r\n    const slug = useParams().slug\r\n    console.log(slug)\r\n    const sendRequest = async()=>{\r\n        const res = await axiosInstance.get(`posts/viewPost/${slug}`).catch(err => console.log(err))\r\n        const userId = res.data.post.user\r\n        const data = await res.data \r\n\r\n        const Useres = await axiosInstance.get(`user/${userId}`).catch(err => console.log(err))\r\n        const data2 = await Useres.data \r\n        const values ={\r\n            data: data,\r\n            data2: data2\r\n        }\r\n        return values\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        sendRequest().then((values)=>{\r\n             setPost(values.data.post)\r\n             setUser(values.data2.user)\r\n        })\r\n       \r\n    },[])\r\n    console.log(user)\r\n//  console.log(post.user.firstname)\r\n    // console.log(post.post)\r\n  return (\r\n    <section style={{\"marginTop\":\"7%\"}}>\r\n        <Helmet>\r\n        {post &&<title> {post.title}</title>}\r\n      </Helmet>\r\n      {post && user && <Blog id={post._id} thumbnail={publicFolder + post.thumbnail} isUser={false} title={post.title} \r\n    description ={post.description}\r\n    // imageURL = {post.thumbnail}\r\n    firstname = {user.firstname} lastname={user.lastname} />}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default View_Post"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,OAAOC,IAAP,MAAiB,oBAAjB;;;AAGA,SAASC,SAAT,GAAqB;EAAA;;EACjB,MAAMC,OAAO,GAAGL,UAAU,EAA1B;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,EAAhC;EACA,MAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC;IAC7BY,SAAS,EAAE,EADkB;IAE7BC,KAAK,EAAE,EAFsB;IAG7BC,WAAW,EAAE;EAHgB,CAAD,CAAhC;EAMA,MAAMC,YAAY,GAAG,+BAArB,CATiB,CAUjB;;EACA,MAAMC,IAAI,GAAGb,SAAS,GAAGa,IAAzB;EACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ;;EACA,MAAMG,WAAW,GAAG,YAAS;IACzB,MAAMC,GAAG,GAAG,MAAMhB,aAAa,CAACiB,GAAd,CAAmB,kBAAiBL,IAAK,EAAzC,EAA4CM,KAA5C,CAAkDC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAAzD,CAAlB;IACA,MAAMC,MAAM,GAAGJ,GAAG,CAACK,IAAJ,CAASf,IAAT,CAAcF,IAA7B;IACA,MAAMiB,IAAI,GAAG,MAAML,GAAG,CAACK,IAAvB;IAEA,MAAMC,MAAM,GAAG,MAAMtB,aAAa,CAACiB,GAAd,CAAmB,QAAOG,MAAO,EAAjC,EAAoCF,KAApC,CAA0CC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAAjD,CAArB;IACA,MAAMI,KAAK,GAAG,MAAMD,MAAM,CAACD,IAA3B;IACA,MAAMG,MAAM,GAAE;MACVH,IAAI,EAAEA,IADI;MAEVE,KAAK,EAAEA;IAFG,CAAd;IAIA,OAAOC,MAAP;EACH,CAZD;;EAcA7B,SAAS,CAAC,MAAI;IACVoB,WAAW,GAAGU,IAAd,CAAoBD,MAAD,IAAU;MACxBjB,OAAO,CAACiB,MAAM,CAACH,IAAP,CAAYf,IAAb,CAAP;MACAD,OAAO,CAACmB,MAAM,CAACD,KAAP,CAAanB,IAAd,CAAP;IACJ,CAHD;EAKH,CANQ,EAMP,EANO,CAAT;EAOAS,OAAO,CAACC,GAAR,CAAYV,IAAZ,EAlCiB,CAmCrB;EACI;;EACF,oBACE;IAAS,KAAK,EAAE;MAAC,aAAY;IAAb,CAAhB;IAAA,wBACI,QAAC,MAAD;MAAA,UACCE,IAAI,iBAAG;QAAA,gBAASA,IAAI,CAACG,KAAd;MAAA;QAAA;QAAA;QAAA;MAAA;IADR;MAAA;MAAA;MAAA;IAAA,QADJ,EAIGH,IAAI,IAAIF,IAAR,iBAAgB,QAAC,IAAD;MAAM,EAAE,EAAEE,IAAI,CAACoB,GAAf;MAAoB,SAAS,EAAEf,YAAY,GAAGL,IAAI,CAACE,SAAnD;MAA8D,MAAM,EAAE,KAAtE;MAA6E,KAAK,EAAEF,IAAI,CAACG,KAAzF;MACnB,WAAW,EAAGH,IAAI,CAACI,WADA,CAEnB;MAFmB;MAGnB,SAAS,EAAIN,IAAI,CAACuB,SAHC;MAGU,QAAQ,EAAEvB,IAAI,CAACwB;IAHzB;MAAA;MAAA;MAAA;IAAA,QAJnB;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAWD;;GAhDQ1B,S;UACWJ,U,EAUHC,S;;;KAXRG,S;AAkDT,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}